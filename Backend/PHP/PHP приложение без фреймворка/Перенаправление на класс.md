
**Отказ от MVC**
В этом туториале мы не будем реализовывать архитектуру MVC (Model-View-Controller), поскольку это сложно сделать в PHP в её оригинальной концепции. Вместо этого сосредоточимся на разделении ответственности.

**Создание контроллеров**
Для обработки запросов нам понадобятся классы с описательными именами. В этом туториале я буду использовать название **Controllers**, чтобы это было знакомо тем, кто пришёл из фреймворков. Вы также можете назвать их **Handlers**.

1. Создайте новую папку внутри `src/` с названием `Controllers`.
2. В этой папке создайте файл `Homepage.php` со следующим содержимым:

```php
<?php declare(strict_types = 1);

namespace Example\Controllers;

class Homepage
{
    public function show()
    {
        echo 'Hello World';
    }
}
```

**Настройка автозагрузки**
Убедитесь, что пространство имён класса соответствует пути файла, а имя файла совпадает с именем класса. Мы используем `Example` как корневое пространство имён, что соответствует папке `src/`.

**Изменение маршрутов**
Теперь измените маршрут "hello world" в вашем файле `Routes.php`, чтобы он вызывал метод вашего нового класса:

```php
return [
    ['GET', '/', ['Example\Controllers\Homepage', 'show']],
];
```

Теперь вместо замыкания вы передаёте массив, где первый элемент — это полностью квалифицированное имя класса, а второй — имя метода, который нужно вызвать.

**Обновление диспетчера маршрутов**
Внесите небольшие изменения в код обработки маршрутов в `Bootstrap.php`:

```php
case \FastRoute\Dispatcher::FOUND:
    $className = $routeInfo[1][0];
    $method = $routeInfo[1][1];
    $vars = $routeInfo[2];
    
    $class = new $className;
    $class->$method($vars);
    break;
```

Теперь вместо простого вызова метода вы создаёте экземпляр класса и вызываете метод на этом экземпляре.

**Тестирование**
Теперь, если вы перейдёте по адресу [http://localhost:8000/](http://localhost:8000/), вы должны увидеть "Hello World". Если нет, проверьте код и отладьте его.

**Заключение**
Не забудьте зафиксировать изменения в вашем репозитории!
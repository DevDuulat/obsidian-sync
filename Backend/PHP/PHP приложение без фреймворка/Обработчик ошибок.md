**Что такое обработчик ошибок?**
Обработчик ошибок позволяет настраивать поведение приложения при возникновении ошибок. Хорошая страница с информацией для отладки очень полезна во время разработки.

**Выбор пакета**
Рекомендуется использовать пакет `filp/whoops`, но вы можете выбрать любой другой, например, `PHP-Error`. Программирование без фреймворка даёт вам полный контроль над проектом.

**Установка Whoops**
Откройте ваш файл `composer.json` и добавьте пакет в раздел `require`:

```json
"require": {
    "php": ">=7.0.0",
    "filp/whoops": "~2.1"
}
```

Затем выполните команду:

```bash
composer update
```

**Настройка автозагрузчика**
Чтобы PHP знал, где найти классы, добавьте в ваш `Bootstrap.php` строку для автозагрузки:

```php
require __DIR__ . '/../vendor/autoload.php';
```

**Важно!**
Никогда не показывайте ошибки в производственной среде. Стек вызовов или простое сообщение об ошибке могут дать злоумышленникам доступ к вашей системе. Вместо этого показывайте пользователю дружелюбную страницу с ошибкой и уведомляйте себя о проблеме через email или лог.

**Переключение среды**
Для разработки полезно видеть подробности ошибок. Установите переменную окружения:

```php
$environment = 'development';
```

**Регистрация обработчика ошибок**
В вашем `Bootstrap.php` добавьте следующий код:

```php
$whoops = new \Whoops\Run;
if ($environment !== 'production') {
    $whoops->pushHandler(new \Whoops\Handler\PrettyPageHandler);
} else {
    $whoops->pushHandler(function($e){
        echo 'Todo: Friendly error page and send an email to the developer';
    });
}
$whoops->register();
```

**Тестирование обработчика**
Для тестирования выбросьте исключение:

```php
throw new \Exception;
```

Теперь, если всё настроено правильно, вы должны увидеть страницу ошибки с подсветкой строки, где произошло исключение. Если нет, проверьте настройки и отладьте код. Это также хорошее время для коммита изменений.
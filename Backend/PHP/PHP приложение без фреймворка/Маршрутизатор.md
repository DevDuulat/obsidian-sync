
**Что такое маршрутизатор?**
Маршрутизатор перенаправляет запросы к различным обработчикам в зависимости от установленных правил. С текущей настройкой ваше приложение всегда возвращает один и тот же ответ, независимо от URL. Давайте это исправим.

**Использование FastRoute**
В этом туториале мы будем использовать пакет `FastRoute`, но вы можете выбрать любой другой, например:
- `symfony/Routing`
- `Aura.Router`
- `fuelphp/routing`
- `Klein`

**Установка FastRoute**
Вы уже знаете, как устанавливать пакеты через Composer, так что займитесь этим самостоятельно.

**Добавление маршрутов**
В файл `Bootstrap.php`, где вы добавили сообщение "Hello World", добавьте следующий код:

```php
$dispatcher = \FastRoute\simpleDispatcher(function (\FastRoute\RouteCollector $r) {
    $r->addRoute('GET', '/hello-world', function () {
        echo 'Hello World';
    });
    $r->addRoute('GET', '/another-route', function () {
        echo 'This works too';
    });
});

$routeInfo = $dispatcher->dispatch($request->getMethod(), $request->getPath());
switch ($routeInfo[0]) {
    case \FastRoute\Dispatcher::NOT_FOUND:
        $response->setContent('404 - Page not found');
        $response->setStatusCode(404);
        break;
    case \FastRoute\Dispatcher::METHOD_NOT_ALLOWED:
        $response->setContent('405 - Method not allowed');
        $response->setStatusCode(405);
        break;
    case \FastRoute\Dispatcher::FOUND:
        $handler = $routeInfo[1];
        $vars = $routeInfo[2];
        call_user_func($handler, $vars);
        break;
}
```

- В первой части кода вы регистрируете доступные маршруты.
- Во второй части вызывается диспетчер, и выполняется соответствующий обработчик.

**Перенос маршрутов в отдельный файл**
Чтобы избежать загромождения `Bootstrap.php`, создайте файл `Routes.php` в папке `src/`:

```php
<?php declare(strict_types = 1);

return [
    ['GET', '/hello-world', function () {
        echo 'Hello World';
    }],
    ['GET', '/another-route', function () {
        echo 'This works too';
    }],
];
```

**Обновление диспетчера маршрутов**
Измените часть кода диспетчера в `Bootstrap.php`, чтобы использовать файл `Routes.php`:

```php
$routeDefinitionCallback = function (\FastRoute\RouteCollector $r) {
    $routes = include('Routes.php');
    foreach ($routes as $route) {
        $r->addRoute($route[0], $route[1], $route[2]);
    }
};

$dispatcher = \FastRoute\simpleDispatcher($routeDefinitionCallback);
```

Теперь у вас есть более чистая структура, а маршруты вынесены в отдельный файл.

**Заключение**
Не забудьте зафиксировать изменения в вашем репозитории после каждой главы!